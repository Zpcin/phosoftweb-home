<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8">
        <title data-i18n="site"></title>
        <!-- SEO 元标签 -->
        <meta name="msvalidate.01" content="93B7BB0E96BAC477F6402852111B6680" />
        <meta name="keywords" content="PhosoftStudio">
        <meta name="description" content="PhosoftWebPages 是 PhosoftStudio 开发的一些网页">
        <meta name="author" content="yuanzui_cf">
        <meta name="refresh" content="3">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- 样式和网站图标 -->
        <link rel="stylesheet" href="./css/wu.css">
        <link rel="stylesheet" href="./css/lang-responsive.css">
        <link rel="stylesheet" href="./css/countdown.css">
        <link rel="stylesheet" href="./css/loading.css">
        <link rel="stylesheet" href="./css/modal.css">
        <link rel="icon" href="./img/A-logo.svg">
        <!-- 老图标
        <link rel="icon" href="https://gitlab.com/uploads/-/system/group/avatar/15493510/QQ%E5%9B%BE%E7%89%8720220117233528.jpg?width=512">
        -->

        <!-- 特效脚本 -->
        <script src="./js/grayscale.js"></script>
        <script src="./js/lang.js"></script>
        <script src="./js/countdown.js" defer></script>
        <script src="./js/about-lang.js" defer></script>
        <script src="./js/about.js" defer></script>

        <!-- 第三方服务集成 -->
        <script src="https://code.tidio.co/bowhirwyldd4f4z8ebab0dsupl375oim.js" async></script>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9614412023637049"
     crossorigin="anonymous"></script>

        <!-- 统计和性能监控 -->
        <script charset="UTF-8" id="LA_COLLECT" src="https://sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({id: "JlNLVSQScJkH113J",ck: "JlNLVSQScJkH113J",autoTrack:true})</script>
        <script src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script>
        <script>
            new LingQue.Monitor().init({id:"JlNWsmTFj3QOaARK",sendSuspicious:true});
        </script>

        <!-- 控制台输出信息由lang.js处理 -->
    </head>
    <body>
        <!-- 加载动画覆盖层 -->
        <div id="loadingOverlay" class="loading-overlay">
            <div class="loading-dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
            <div class="loading-text" data-i18n="loadingPage"></div>
        </div>

        <!-- 考试倒计时 -->
        <div id="examCountdown" class="exam-countdown">
            <div class="exam-title" data-i18n="countdown.jilinZhongkao"></div>
            <div class="exam-days" id="examDays" data-i18n="loading"></div>
        </div>

        <!-- 主要内容区域 -->
        <div class="wu-content">
            <!-- 网站标题块 -->
            <div class="wu-block wu-mw">
                <div class="wu-box wu-shadow">
                    <div class="wu-divide" style="height: 90px;"></div>
                    <b class="wu-h2 no-wrap" data-i18n="welcome"></b><br>
                    <b class="wu-h1 no-wrap" data-i18n="site"></b>
                    <h1></h1>
                </div>
            </div>

            <!-- 视频展示区块 -->
            <div class="wu-block" id="video" style="width: calc(65% - 23px);">
                <div class="wu-box wu-shadow">
                    <b class="wu-h2 no-wrap" data-i18n="promo"></b>
                    <div class="wu-divide" style="height: 10px;"></div>
                    <video width="100%" src="./video/video.mp4" controls></video>
                    <a href="https://www.bilibili.com/video/av522186335" class="bilibili-link">
                        <img src="./img/bilibili.svg" alt="bilibili logo">
                        <span id="bilibili-text" data-i18n="bilibili"></span>
                    </a>
                </div>
            </div>

            <!-- 公告区块 -->
            <div class="wu-block" style="width: calc(35% - 23px);" id="notice">
                <div class="wu-box wu-shadow">
                    <div class="wu-divide" style="height: 40px;"></div>
                    <b class="wu-h1" data-i18n="notice"></b>
                    <p class="wu-h3" data-i18n="noticeEn"></p>
                    <div class="wu-divide" style="height: 10px;"></div>
                    <div class="wu-block wu-mw wu-not">
                        <p data-i18n="noticeContent.0"></p>
                        <p data-i18n="noticeContent.1"></p>
                    </div>
                </div>
            </div>

            <!-- 友情链接区块 -->
            <div class="wu-block wu-mw" id="friendLinks">
                <div class="wu-box wu-shadow">
                    <div class="wu-divide" style="height: 20px;"></div>
                    <b class="wu-h2" data-i18n="friends"></b>
                    <div class="wu-notice wu-mw" data-i18n="friendsTip"></div>
                    <div class="wu-links">
                        <a href="https://about.phosoft.cn/" data-i18n="linkTexts.official"></a> <a href="https://suulnnka.github.io/BullshitGenerator/index.html" data-i18n="linkTexts.bullshit"></a><a href="https://hitokoto.cn/" data-i18n="linkTexts.hitokoto"></a><a href="https://github.com/soimort/you-get/" data-i18n="linkTexts.youget"></a><a href="https://aurorast.cn/" data-i18n="linkTexts.aurora"></a><a href="https://chenzr.xn--0tr.top/" data-i18n="linkTexts.chensite"></a><a href="https://damon233.js.org/" data-i18n="linkTexts.damonsite"></a><a href="https://psoft.eu.org/about.html" data-i18n="linkTexts.zpcin"></a><a href="https://www.imfmkli.top/" data-i18n="linkTexts.pigeon"></a><a href="https://gdt.im/" data-i18n="linkTexts.grassdev"></a><a href="https://theme.estu.site/" data-i18n="linkTexts.grasstheme"></a><a href="https://www.cxl2020mc.top" data-i18n="linkTexts.chenxinlei"></a><a href="https://github.com/awesome-iwb/awesome-iwb" data-i18n="linkTexts.awesome"></a><a href="https://sponsor.psoft.eu.org/" data-i18n="linkTexts.sponsor"></a><a href="./dsp.html" data-i18n="linkTexts.search"></a><a href="https://forum.phosoft.cn/" data-i18n="linkTexts.forum"></a><a href="https://game.phosoft.cn/" data-i18n="linkTexts.game"></a><a href="https://ugly-standby.666forum.com/" data-i18n="linkTexts.ugly"></a>
                    </div>
                </div>
            </div>

            <!-- 页脚区块 -->
            <div class="wu-block wu-mw">
                <div class="wu-box wu-shadow">
                    <p class="no-wrap"><a href="javascript:void(0)" id="aboutLink" data-i18n-html="footer"></a></p>
                    <p class="no-wrap" data-i18n-html="powered"></p>
                    <a href="https://isc-alliance.vercel.app/" style="text-decoration: none; color: rgb(20, 20, 20);"><img src="./img/ICS.svg" style="float: left; height: 23px; margin-right: 5px;" alt="ICS"><p class="no-wrap">认ISC-20220807-01</p></a>
                </div>
            </div>
        </div>

        <!-- 响应式布局脚本 -->
        <script>
           function sizeEvent(){
               let video = document.getElementById("video");
               let notice = document.getElementById("notice");
               if(window.innerWidth < 800){
                   video.style.width = "100%";
                   notice.style.width = "100%";
               }
               else if(window.innerWidth >= 800){
                   video.style.width = "calc(65% - 23px)";
                   notice.style.width = "calc(35% - 23px)";
               }
           }
           function init(){
               sizeEvent();
           }
           init();
           window.addEventListener("resize", sizeEvent);
        </script>

        <!-- About Modal -->
        <div id="aboutModal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <div class="about-container">
                    <div id="aboutSidebar" class="about-sidebar"></div>
                    <div id="aboutMainContent" class="about-main-content">
                        <!-- Content will be generated by JS -->
                    </div>
                </div>
                <div class="modal-nav-buttons">
                    <button class="modal-btn btn-disabled" id="modal-prev-btn">上一条</button>
                    <button class="modal-btn close-modal-btn-mobile" id="modal-close-btn-mobile">关闭</button>
                    <button class="modal-btn" id="modal-next-btn">下一条</button>
                </div>
            </div>
        </div>

        <!-- 浏览器兼容性检测与重定向 - 使用更安全的方法检测浏览器 -->
        <script>
            (function() {
                // 初始化检测结果变量
                var isOldBrowser = false;
                var match; // 声明一个共用的匹配变量，避免重复声明

                // 安全地检查对象属性，避免未定义错误
                function safeCheck(obj, prop) {
                    return obj && prop in obj;
                }

                // 检测IE浏览器 - 避免直接引用documentMode
                try {
                    isOldBrowser = isOldBrowser || (navigator.userAgent.indexOf('MSIE') !== -1);
                    isOldBrowser = isOldBrowser || (navigator.userAgent.indexOf('Trident/') !== -1);
                    isOldBrowser = isOldBrowser || safeCheck(document, 'documentMode');
                } catch(e) {}

                // 检测Edge旧版本 - 避免直接引用StyleMedia
                try {
                    isOldBrowser = isOldBrowser ||
                        (navigator.userAgent.indexOf('Edge/') !== -1);
                    isOldBrowser = isOldBrowser || safeCheck(window, 'StyleMedia');
                } catch(e) {}

                // 检测旧版Firefox - 避免直接引用InstallTrigger
                try {
                    if (navigator.userAgent.indexOf('Firefox/') !== -1) {
                        match = navigator.userAgent.match(/Firefox\/(\d+)/);
                        if (match && parseInt(match[1]) < 60) {
                            isOldBrowser = true;
                        }
                    }
                } catch(e) {}

                // 检测旧版Chrome - 避免直接引用chrome
                try {
                    if (navigator.userAgent.indexOf('Chrome/') !== -1) {
                        match = navigator.userAgent.match(/Chrome\/(\d+)/);
                        if (match && parseInt(match[1]) < 60) {
                            isOldBrowser = true;
                        }
                    }
                } catch(e) {}

                // 检测旧版Opera - 避免直接引用opera和opr
                try {
                    isOldBrowser = isOldBrowser ||
                        (navigator.userAgent.indexOf('Opera') !== -1) ||
                        (navigator.userAgent.indexOf('OPR/') !== -1);
                } catch(e) {}

                // 检测旧版Safari - 避免直接引用safari
                try {
                    if (navigator.userAgent.indexOf('Safari/') !== -1 &&
                        navigator.userAgent.indexOf('Chrome/') === -1 &&
                        navigator.userAgent.indexOf('Chromium/') === -1) {
                        match = navigator.userAgent.match(/Version\/(\d+)/);
                        if (match && parseInt(match[1]) < 10) {
                            isOldBrowser = true;
                        }
                    }
                } catch(e) {}

                // 如果检测到旧浏览器，则重定向
                if (isOldBrowser) {
                    window.location.href = "/IE303.html";
                }
            })();
        </script>

        <!-- IE浏览器重定向（保留作为后备方案） -->
        <!--[if IE]>
        <script>
            location.replace("/IE303.html");
        </script>
        <![endif]-->
    </body>
</html>
