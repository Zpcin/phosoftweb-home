# About-lang.js Web GUI 编辑器使用说明

## 🚀 快速开始

### 启动方法

**方法 1：双击批处理文件（推荐）**
```
双击 start-gui.bat
```

**方法 2：使用 PowerShell**
```powershell
.\start-gui.ps1
```

**方法 3：手动启动**
```cmd
cd "C:\Users\11694\WebstormProjects\phosoftweb-home-88\set"
"C:\Users\11694\AppData\Roaming\JetBrains\WebStorm2025.1\node\versions\22.16.0\node.exe" gui-server.js
```

### 访问地址
启动后在浏览器中访问：[http://localhost:8899](http://localhost:8899)

## 🖥️ 界面介绍

### 主界面布局
- **左侧面板**：语言列表，显示所有支持的语言及内容块数量
- **右侧面板**：内容编辑器，编辑选中语言的内容
- **顶部工具栏**：保存、备份等主要操作
- **底部工具栏**：导入、添加内容块等辅助功能

### 功能按钮说明
- **💾 保存**：保存所有修改到 about-lang.js 文件
- **🕐 备份**：查看和管理备份文件
- **➕ 添加**：添加新的语言支持
- **📥 导入 Markdown**：从 Markdown 文件导入内容
- **➕ 添加内容块**：为当前语言添加新的内容块

## 📝 编辑功能

### 语言管理
1. **添加新语言**
   - 点击左侧面板的"➕ 添加"按钮
   - 输入语言代码（如：fr, de, es, ko）
   - 新语言会复制中文内容作为模板

2. **删除语言**
   - 选择要删除的语言
   - 点击右上角的"🗑️ 删除语言"按钮
   - 确认删除后该语言的所有内容将被移除

3. **导出语言**
   - 选择要导出的语言
   - 点击"📤 导出"按钮
   - 系统会下载该语言的 Markdown 文件

### 内容编辑
1. **编辑内容块**
   - 点击左侧语言列表选择要编辑的语言
   - 在右侧编辑器中修改标题和内容
   - 内容支持 Markdown 语法，会自动转换为 HTML

2. **移动内容块**
   - 使用内容块右上角的"↑"和"↓"按钮调整顺序

3. **删除内容块**
   - 点击内容块右上角的"🗑️"按钮删除

4. **添加内容块**
   - 点击底部工具栏的"➕ 添加内容块"按钮

### Markdown 支持
编辑器支持以下 Markdown 语法：
- **粗体**：`**文本**` 或 `__文本__`
- *斜体*：`*文本*` 或 `_文本_`
- [链接](URL)：`[文本](URL)`
- 换行：单个换行转换为 `<br>`
- 段落：双换行转换为段落分隔

### 实时预览
每个内容块都有预览区域，显示 Markdown 转换后的 HTML 效果。

## 📁 文件管理

### 导入功能
1. 点击"📥 导入 Markdown"按钮
2. 选择要导入的 Markdown 文件
3. 选择目标语言
4. 预览导入内容
5. 确认导入（会覆盖目标语言的所有内容）

### 导入文件格式
Markdown 文件应使用以下格式：
```markdown
## 标题1
内容1

## 标题2
内容2
```

### 备份管理
1. 点击"🕐 备份"按钮查看所有备份
2. 每次保存都会自动创建备份
3. 可以恢复任意备份文件
4. 备份文件显示创建时间和文件大小

## ⌨️ 快捷键

- **Ctrl + S**：保存修改
- **Esc**：关闭模态框

## 🔧 技术特性

### 自动保存提示
- 有修改时保存按钮会显示 "保存 *"
- 页面离开前会提醒保存未保存的修改

### 响应式设计
- 支持桌面和移动设备
- 在小屏幕上会自动调整布局

### 错误处理
- 网络错误时会显示友好的错误提示
- 文件操作失败时会显示具体错误信息

## 🛠️ 故障排除

### 常见问题

1. **服务器无法启动**
   - 检查 Node.js 路径是否正确
   - 确认端口 8899 没有被占用
   - 检查文件权限

2. **无法保存文件**
   - 确认有 about-lang.js 文件的写权限
   - 检查磁盘空间是否足够

3. **导入失败**
   - 确认 Markdown 文件格式正确
   - 检查文件编码是否为 UTF-8

4. **浏览器无法访问**
   - 确认服务器已正常启动
   - 检查防火墙设置
   - 尝试刷新页面

### 重置方法
如果遇到严重问题，可以：
1. 停止服务器（Ctrl+C）
2. 从备份恢复文件
3. 重新启动服务器

## 📄 文件说明

- `gui-server.js` - Web 服务器主程序
- `gui/` - Web 界面文件目录
  - `index.html` - 主页面
  - `styles.css` - 样式文件
  - `app.js` - 前端应用逻辑
- `start-gui.bat` - Windows 启动脚本
- `start-gui.ps1` - PowerShell 启动脚本
- `backups/` - 自动备份目录
- `uploads/` - 临时上传目录

## 🔒 安全说明

- 服务器仅监听本地地址（localhost）
- 不会暴露到外网
- 上传的文件会在处理后自动删除
- 所有操作都会记录备份

## 📞 技术支持

如果遇到问题：
1. 查看控制台输出的错误信息
2. 检查浏览器开发者工具的错误
3. 尝试重启服务器
4. 查看备份文件是否正常
